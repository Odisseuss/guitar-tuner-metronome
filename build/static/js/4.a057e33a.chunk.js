(this["webpackJsonpguitar-tuner-metronome"]=this["webpackJsonpguitar-tuner-metronome"]||[]).push([[4],{50:function(t,e,n){"use strict";var r=n(19),o=n(8),a=n(3),i=n(0),s=n(9);function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var u=i.createElement("path",{d:"M14.5 0.989563L8.64046 2.56123L0.935874 31.3637C0.884624 31.62 0.833374 31.8933 0.833374 32.1666C0.833374 34.0629 2.35379 35.5833 4.25004 35.5833H24.75C26.6463 35.5833 28.1667 34.0629 28.1667 32.1666C28.1667 31.8933 28.1155 31.62 28.0642 31.3637L25.7409 22.6341L23.0417 25.3333L23.3834 27.0416H16.9088L21.7605 22.19L19.3517 19.7812L12.0913 27.0416H5.61671L11.5788 4.83331H17.4213L19.9155 14.1096L22.7 11.3079L20.3596 2.56123L14.5 0.989563ZM13.2188 6.54165V23.1979L15.7813 20.6354V6.54165H13.2188ZM27.808 11.325L22.9734 16.1596L21.7605 14.9466L19.3517 17.3725L24.1692 22.19L26.595 19.7812L25.3821 18.5683L30.2167 13.7337L27.808 11.325Z",fill:"current"});function d(t,e){var n=t.title,r=t.titleId,o=l(t,["title","titleId"]);return i.createElement("svg",c({width:31,height:36,viewBox:"0 0 31 36",fill:"current",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":r},o),n?i.createElement("title",{id:r},n):null,u)}var p=i.forwardRef(d);n.p;function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function h(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var b=i.createElement("path",{d:"M32.6975 22.1059C32.7659 21.5934 32.8 21.0638 32.8 20.5C32.8 19.9534 32.7659 19.4067 32.6804 18.8942L36.1484 16.195C36.4559 15.9559 36.5413 15.4946 36.3534 15.153L33.0734 9.48129C32.8684 9.10545 32.4413 8.98587 32.0654 9.10545L27.9825 10.7455C27.1284 10.0963 26.2229 9.54962 25.215 9.13962L24.6 4.80045C24.5317 4.39045 24.19 4.10004 23.78 4.10004H17.22C16.81 4.10004 16.4854 4.39045 16.4171 4.80045L15.8021 9.13962C14.7942 9.54962 13.8717 10.1134 13.0346 10.7455L8.95169 9.10545C8.57586 8.96879 8.14877 9.10545 7.94377 9.48129L4.68086 15.153C4.47586 15.5117 4.54419 15.9559 4.88586 16.195L8.35377 18.8942C8.26836 19.4067 8.20003 19.9705 8.20003 20.5C8.20003 21.0296 8.23419 21.5934 8.31961 22.1059L4.85169 24.805C4.54419 25.0442 4.45877 25.5055 4.64669 25.8471L7.92669 31.5188C8.13169 31.8946 8.55877 32.0142 8.93461 31.8946L13.0175 30.2546C13.8717 30.9038 14.7771 31.4505 15.785 31.8605L16.4 36.1996C16.4854 36.6096 16.81 36.9 17.22 36.9H23.78C24.19 36.9 24.5317 36.6096 24.5829 36.1996L25.1979 31.8605C26.2059 31.4505 27.1284 30.9038 27.9654 30.2546L32.0484 31.8946C32.4242 32.0313 32.8513 31.8946 33.0563 31.5188L36.3363 25.8471C36.5413 25.4713 36.4559 25.0442 36.1313 24.805L32.6975 22.1059ZM20.5 26.65C17.1175 26.65 14.35 23.8825 14.35 20.5C14.35 17.1175 17.1175 14.35 20.5 14.35C23.8825 14.35 26.65 17.1175 26.65 20.5C26.65 23.8825 23.8825 26.65 20.5 26.65Z",fill:"current"});function v(t,e){var n=t.title,r=t.titleId,o=h(t,["title","titleId"]);return i.createElement("svg",f({width:36,height:36,viewBox:"0 0 36 36",fill:"current",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":r},o),n?i.createElement("title",{id:r},n):null,b)}var g=i.forwardRef(v),m=(n.p,n(1)),j=n(21),y=function(t,e){Object(i.useEffect)((function(){function n(n){t.current&&!t.current.contains(n.target)&&e()}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[t,e])};function O(){var t=Object(o.a)(["\n\ttransition: all 0.2s;\n"]);return O=function(){return t},t}function x(){var t=Object(o.a)(["\n\tposition: absolute;\n\tleft: 30px;\n\ttransition: fill 0.2s;\n"]);return x=function(){return t},t}function k(){var t=Object(o.a)(["\n\tborder: 1px solid transparent;\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tpadding: 10px 15px;\n\tposition: relative;\n\tcolor: #333;\n\tcursor: pointer;\n\tmargin: 0;\n\tdisplay: flex;\n\talign-items: center;\n\n\t& button {\n\t\tcursor: pointer;\n\t\tbackground: transparent;\n\t\tcolor: white;\n\t\tborder: none;\n\t\toutline: none;\n\t}\n\t&:hover {\n\t\tborder: 1px solid white;\n\t}\n"]);return k=function(){return t},t}function w(){var t=Object(o.a)(["\n\tbackground-color: #202124;\n\tborder-width: 0;\n\tbox-shadow: 0 1px 2px 0 rgb(0 0 0 / 30%), 0 2px 6px 2px rgb(0 0 0 / 15%);\n\tposition: absolute;\n\ttop: 100%;\n\tright: 0;\n\twidth: 150px;\n\tz-index: 9999;\n\topacity: 0;\n\ttransition: opacity 0.2s;\n"]);return w=function(){return t},t}function C(){var t=Object(o.a)(["\n\tfont-size: 18px;\n\tfont-weight: 500;\n\ttext-transform: uppercase;\n\tdisplay: inline-block;\n"]);return C=function(){return t},t}function T(){var t=Object(o.a)(["\n\theight: 10%;\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"]);return T=function(){return t},t}var S=s.b.div(T()),M=s.b.h1(C()),P=s.b.div(w()),L=s.b.div(k()),F=Object(s.b)(p)(x()),E=Object(s.b)(g)(O());e.a=function(t){var e=t.setColors,n=t.navigateLocation,o=t.menuColor,s=t.handleStartTapTempo,c=t.cycleNoteType,l=t.tapTempoActive,u=t.toggleChromaticMode,d=t.chromaticMode,p=i.useState(!1),f=Object(r.a)(p,2),h=f[0],b=f[1],v=i.useRef(null),g=Object(m.f)();i.useEffect((function(){var t="/"===g.pathname?{primary:"#F72640",gradient_darker:"#0F0910",gradient_lighter:"#1F0E18"}:{primary:"#FFFFFF",gradient_darker:"#0F0F0F",gradient_lighter:"#282828"};e(t)}),[g.pathname,e]);return y(v,(function(){b(!1)})),Object(a.jsxs)(S,{children:[Object(a.jsx)(j.b,{to:n,style:{height:"100%",display:"flex",alignItems:"center"},children:Object(a.jsx)(F,{fill:"/"===n?"#FFFFFF":"#969696"})}),Object(a.jsx)(M,{children:"Guitune"}),Object(a.jsxs)("div",{style:{position:"absolute",right:"30px"},ref:v,children:[Object(a.jsx)("button",{style:{outline:"none",border:"none",background:"transparent",padding:0},onClick:function(){b(!h)},children:Object(a.jsx)(E,{fill:h?"#FFFFFF":"#969696"})}),Object(a.jsx)(P,{className:"dropdown",style:{background:o,opacity:h?1:0,zIndex:h?9999:-100},children:"/"===g.pathname?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(L,{children:Object(a.jsx)("button",{children:"Tutorial"})}),Object(a.jsx)(L,{children:Object(a.jsx)("button",{onClick:function(){u&&d&&u()},children:"Chromatic Mode"})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(L,{children:Object(a.jsx)("button",{onClick:function(){s&&void 0!=l&&s(l?"stop":"start")},children:"Tap Tempo"})}),Object(a.jsx)(L,{children:Object(a.jsx)("button",{onClick:function(){c&&c()},children:"Note Type"})})]})})]})]})}},54:function(t,e,n){(function(e){var n;n="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},t.exports=n}).call(this,n(26))},68:function(t,e,n){"use strict";n.r(e);var r=n(48),o=n(40),a=n(41),i=n(46),s=n(42),c=n(43),l=n(3),u=n(0);function d(){return new Worker(n.p+"static/js/MetronomeScheduler.worker.6dc53609.js")}function p(){return new Worker(n.p+"static/js/DetectTapTempo.worker.1b0ffe89.js")}var f=n(47),h=n(19),b=n(49),v=n(51),g=n(52);function m(t,e,n){return(m=Object(g.a)()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Object(v.a)(o,n.prototype),o}).apply(null,arguments)}var j=Symbol("Comlink.proxy"),y=Symbol("Comlink.endpoint"),O=Symbol("Comlink.releaseProxy"),x=Symbol("Comlink.thrown"),k=function(t){return"object"===typeof t&&null!==t||"function"===typeof t},w=new Map([["proxy",{canHandle:function(t){return k(t)&&t[j]},serialize:function(t){var e=new MessageChannel,n=e.port1,r=e.port2;return C(t,n),[r,[r]]},deserialize:function(t){return t.start(),S(t)}}],["throw",{canHandle:function(t){return k(t)&&x in t},serialize:function(t){var e=t.value;return[e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]]},deserialize:function(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;e.addEventListener("message",(function n(o){if(o&&o.data){var a,i=Object.assign({path:[]},o.data),s=i.id,c=i.type,l=i.path,u=(o.data.argumentList||[]).map(A);try{var d=l.slice(0,-1).reduce((function(t,e){return t[e]}),t),p=l.reduce((function(t,e){return t[e]}),t);switch(c){case 0:a=p;break;case 1:d[l.slice(-1)[0]]=A(o.data.value),a=!0;break;case 2:a=p.apply(d,u);break;case 3:var f;a=z(m(p,Object(r.a)(u)));break;case 4:var v=new MessageChannel,g=v.port1,j=v.port2;C(t,j),a=E(g,[g]);break;case 5:a=void 0}}catch(f){a=Object(b.a)({value:f},x,0)}Promise.resolve(a).catch((function(t){return Object(b.a)({value:t},x,0)})).then((function(t){var r=I(t),o=Object(h.a)(r,2),a=o[0],i=o[1];e.postMessage(Object.assign(Object.assign({},a),{id:s}),i),5===c&&(e.removeEventListener("message",n),T(e))}))}})),e.start&&e.start()}function T(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function S(t,e){return P(t,[],e)}function M(t){if(t)throw new Error("Proxy has been released and is not useable")}function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=!1,a=new Proxy(n,{get:function(n,i){if(M(o),i===O)return function(){return N(t,{type:5,path:e.map((function(t){return t.toString()}))}).then((function(){T(t),o=!0}))};if("then"===i){if(0===e.length)return{then:function(){return a}};var s=N(t,{type:0,path:e.map((function(t){return t.toString()}))}).then(A);return s.then.bind(s)}return P(t,[].concat(Object(r.a)(e),[i]))},set:function(n,a,i){M(o);var s=I(i),c=Object(h.a)(s,2),l=c[0],u=c[1];return N(t,{type:1,path:[].concat(Object(r.a)(e),[a]).map((function(t){return t.toString()})),value:l},u).then(A)},apply:function(n,r,a){M(o);var i=e[e.length-1];if(i===y)return N(t,{type:4}).then(A);if("bind"===i)return P(t,e.slice(0,-1));var s=L(a),c=Object(h.a)(s,2),l=c[0],u=c[1];return N(t,{type:2,path:e.map((function(t){return t.toString()})),argumentList:l},u).then(A)},construct:function(n,r){M(o);var a=L(r),i=Object(h.a)(a,2),s=i[0],c=i[1];return N(t,{type:3,path:e.map((function(t){return t.toString()})),argumentList:s},c).then(A)}});return a}function L(t){var e,n=t.map(I);return[n.map((function(t){return t[0]})),(e=n.map((function(t){return t[1]})),Array.prototype.concat.apply([],e))]}var F=new WeakMap;function E(t,e){return F.set(t,e),t}function z(t){return Object.assign(t,Object(b.a)({},j,!0))}function I(t){var e,n=Object(f.a)(w);try{for(n.s();!(e=n.n()).done;){var r=Object(h.a)(e.value,2),o=r[0],a=r[1];if(a.canHandle(t)){var i=a.serialize(t),s=Object(h.a)(i,2);return[{type:3,name:o,value:s[0]},s[1]]}}}catch(c){n.e(c)}finally{n.f()}return[{type:0,value:t},F.get(t)||[]]}function A(t){switch(t.type){case 3:return w.get(t.name).deserialize(t.value);case 0:return t.value}}function N(t,e,n){return new Promise((function(r){var o=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");t.addEventListener("message",(function e(n){n.data&&n.data.id&&n.data.id===o&&(t.removeEventListener("message",e),r(n.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:o},e),n)}))}var D=n(55),W=n(8),B=n(39),R=n(54),V=n.n(R),H=function(t,e){switch(e.type){case"init":case"setKnobPosition":return Object(B.a)(Object(B.a)({},t),e.payload);case"onMouseDown":case"onMouseUp":case"setInitialKnobPosition":return Object(B.a)(Object(B.a)({},t),e.payload);default:throw new Error}},_=function(t,e){var n=Object(u.useRef)(null);Object(u.useEffect)((function(){n.current=e}),[e]),Object(u.useEffect)((function(){if("undefined"!==typeof V.a){var e=function(t){return n.current(t)};return V.a.addEventListener(t,e,{passive:!1}),function(){V.a.removeEventListener(t,e)}}}),[t])},K=function(){var t=Object(u.useState)(!0),e=Object(h.a)(t,2),n=e[0],r=e[1];return Object(u.useEffect)((function(){r(!1)}),[]),n},U=function(t){var e=t.isDragging,n=t.knobPosition,r=t.knobColor,o=t.knobSize,a=t.hideKnob,i=t.onMouseDown,s=t.trackSize,c=t.children,u={knob:{position:"absolute",left:"-".concat(o/2-s/2,"px"),top:"-".concat(o/2-s/2,"px"),cursor:"grab",zIndex:3},dragging:{cursor:"grabbing"},pause:{animationPlayState:"paused"},hide:{opacity:0}};return Object(l.jsx)("div",{style:Object(B.a)(Object(B.a)(Object(B.a)({transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)")},u.knob),e&&u.dragging),a&&u.hide),onMouseDown:i,onTouchStart:i,children:Object(l.jsxs)("svg",{width:"".concat(o,"px"),height:"".concat(o,"px"),viewBox:"0 0 ".concat(o," ").concat(o),children:[Object(l.jsx)("circle",{fill:r,stroke:"none",cx:o/2,cy:o/2,r:2*o/3/2}),c||Object(l.jsx)("svg",{width:"".concat(o,"px"),height:"".concat(o,"px"),viewBox:"0 0 36 36"})]})})},X=function(t){var e=t.width,n=t.label,r=t.direction,o=t.strokeDasharray,a=t.strokeDashoffset,i=t.progressColorFrom,s=t.progressColorTo,c=t.trackColor,u=t.progressSize,d=t.trackSize,p=t.svgFullPath,f=t.radiansOffset,h=t.progressLineCap,b={svg:{position:"relative",zIndex:2},path:{transform:"rotate(".concat(f,"rad) ").concat(-1===r?"scale(-1, 1)":"scale(1, 1)"),transformOrigin:"center center"}},v=d/2,g=e/2-v;return Object(l.jsxs)("svg",{width:"".concat(e,"px"),height:"".concat(e,"px"),viewBox:"0 0 ".concat(e," ").concat(e),overflow:"visible",style:b.svg,children:[Object(l.jsx)("defs",{children:Object(l.jsxs)("linearGradient",{id:n,x1:"100%",x2:"0%",children:[Object(l.jsx)("stop",{offset:"0%",stopColor:i}),Object(l.jsx)("stop",{offset:"100%",stopColor:s})]})}),Object(l.jsx)("circle",{strokeWidth:d,fill:"none",stroke:c,cx:e/2,cy:e/2,r:g}),Object(l.jsx)("path",{style:b.path,ref:p,strokeDasharray:o,strokeDashoffset:a,strokeWidth:u,strokeLinecap:"round"!==h?"butt":"round",fill:"none",stroke:"url(#".concat(n,")"),d:"\n                        M ".concat(e/2,", ").concat(e/2,"\n                        m 0, -").concat(e/2-v,"\n                        a ").concat(e/2-v,",").concat(e/2-v," 0 0,1 0,").concat(e-2*v,"\n                        a -").concat(e/2-v,",-").concat(e/2-v," 0 0,1 0,-").concat(e-2*v,"\n                    ")})]})},Z=function(t){var e=t.labelColor,n=t.labelBottom,r=t.labelFontSize,o=t.valueFontSize,a=t.appendToValue,i=t.prependToValue,s=t.verticalOffset,c=t.hideLabelValue,u=t.label,d=t.value,p={labels:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"".concat(e),userSelect:"none",zIndex:1},value:{fontSize:"".concat(o),position:"relative"},bottomMargin:{marginBottom:"calc(".concat(s,")")},appended:{position:"absolute",right:"0",top:"0",transform:"translate(100%, 0)"},prepended:{position:"absolute",left:"0",top:"0",transform:"translate(-100%, 0)"},hide:{display:"none"}};return Object(l.jsxs)("div",{style:Object(B.a)(Object(B.a)({},p.labels),c&&p.hide),children:[n||Object(l.jsx)("div",{style:{fontSize:r},children:u}),Object(l.jsx)("div",{style:Object(B.a)(Object(B.a)({},p.value),!n&&p.bottomMargin),children:Object(l.jsxs)("code",{style:{fontFamily:"Be Vietnam",fontWeight:600},children:[Object(l.jsx)("span",{style:p.prepended,children:i}),d,Object(l.jsx)("span",{style:p.appended,children:a})]})}),n&&Object(l.jsx)("div",{style:{fontSize:r},children:u})]})},G=360,Y={top:Math.PI/2,right:0,bottom:-Math.PI/2,left:-Math.PI},J=function(t){return t<0?-1:1},Q=function(t){return t*Math.PI/180},q=function(t,e){for(var n=[],r=t;r<=e;r++)n.push(r);return n},$={circularSlider:{position:"relative",display:"inline-block",opacity:0,transition:"opacity 1s ease-in"},mounted:{opacity:1}},tt=function(t){var e=t.label,n=void 0===e?"ANGLE":e,o=t.width,a=void 0===o?280:o,i=t.direction,s=void 0===i?1:i,c=t.min,d=void 0===c?0:c,p=t.max,f=void 0===p?360:p,b=t.knobColor,v=void 0===b?"#4e63ea":b,g=t.knobSize,m=void 0===g?36:g,j=t.knobPosition,y=void 0===j?"top":j,O=t.labelColor,x=void 0===O?"#272b77":O,k=t.labelBottom,w=void 0!==k&&k,C=t.labelFontSize,T=void 0===C?"1rem":C,S=t.valueFontSize,M=void 0===S?"3rem":S,P=t.appendToValue,L=void 0===P?"":P,F=t.prependToValue,E=void 0===F?"":F,z=t.verticalOffset,I=void 0===z?"1.5rem":z,A=t.hideLabelValue,N=void 0!==A&&A,D=t.hideKnob,W=void 0!==D&&D,R=t.knobDraggable,tt=void 0===R||R,et=t.progressColorFrom,nt=void 0===et?"#80C3F3":et,rt=t.progressColorTo,ot=void 0===rt?"#4990E2":rt,at=t.progressSize,it=void 0===at?8:at,st=t.trackColor,ct=void 0===st?"#DDDEFB":st,lt=t.trackSize,ut=void 0===lt?8:lt,dt=t.data,pt=void 0===dt?[]:dt,ft=t.dataIndex,ht=void 0===ft?0:ft,bt=t.progressLineCap,vt=void 0===bt?"round":bt,gt=t.renderLabelValue,mt=void 0===gt?null:gt,jt=t.onChange,yt=void 0===jt?function(t){}:jt,Ot={mounted:!1,isDragging:!1,width:a,radius:a/2,knobPosition:y,label:0,data:pt,radians:0,offset:0,knob:{x:0,y:0},dashFullArray:0,dashFullOffset:0},xt=K(),kt=Object(u.useReducer)(H,Ot),wt=Object(h.a)(kt,2),Ct=wt[0],Tt=wt[1],St=Object(u.useRef)(null),Mt=Object(u.useRef)(null),Pt=!xt&&"ontouchstart"in V.a,Lt={DOWN:Pt?"touchstart":"mousedown",UP:Pt?"touchend":"mouseup",MOVE:Pt?"touchmove":"mousemove"},Ft=Object(u.useCallback)((function(t){var e=Ct.radius-ut/2,n=t+Y[y],r=(n>0?n:2*Math.PI+n)*(G/(2*Math.PI)),o=r/G*Ct.dashFullArray;r=-1===J(s)?G-r:r;var a=(Ct.data.length-1)/G,i=Math.round(r*a);Ct.data[i]!==Ct.label&&yt(Ct.data[i]),Tt({type:"setKnobPosition",payload:{dashFullOffset:-1===J(s)?o:Ct.dashFullArray-o,label:Ct.data[i],knob:{x:e*Math.cos(t)+e,y:e*Math.sin(t)+e}}})}),[Ct.dashFullArray,Ct.radius,Ct.data,Ct.label,y,ut,s,yt]),Et=Object(u.useCallback)((function(t){if(Ct.isDragging){var e;t.preventDefault(),"touchmove"===t.type&&(e=t.changedTouches[0]);var n=function(t){var e,n,r,o,a,i,s,c,l=t.current.getBoundingClientRect(),u=!xt&&((null!==(e=null===V.a||void 0===V.a?void 0:V.a.pageXOffset)&&void 0!==e?e:0)||(null!==(n=null===(r=document)||void 0===r||null===(o=r.documentElement)||void 0===o?void 0:o.scrollLeft)&&void 0!==n?n:0)),d=!xt&&((null!==(a=null===V.a||void 0===V.a?void 0:V.a.pageYOffset)&&void 0!==a?a:0)||(null!==(i=null===(s=document)||void 0===s||null===(c=s.documentElement)||void 0===c?void 0:c.scrollTop)&&void 0!==i?i:0));return{top:l.top+d,left:l.left+u}},r=("touchmove"===t.type?e.pageX:t.pageX)-(n(St).left+Ct.radius),o=("touchmove"===t.type?e.pageY:t.pageY)-(n(St).top+Ct.radius),a=Math.atan2(o,r);Ft(a)}}),[Ct.isDragging,Ct.radius,Ft,xt]);Object(u.useEffect)((function(){Tt({type:"init",payload:{mounted:!0,data:Ct.data.length?Object(r.a)(Ct.data):Object(r.a)(q(d,f)),dashFullArray:Mt.current.getTotalLength?Mt.current.getTotalLength():0}})}),[f,d]),Object(u.useEffect)((function(){var t=Ct.data.length,e=ht>t-1?t-1:ht;if(t){var n=G/t,r=Q(n)/2;if(Tt({type:"setInitialKnobPosition",payload:{radians:Math.PI/2-Y[Ct.knobPosition],offset:r}}),e){var o=J(s)*e*n,a=Q(o)-Y[Ct.knobPosition];return Ft(a+r*J(s))}Ft(-Y[Ct.knobPosition]*J(s)+r*J(s))}}),[Ct.dashFullArray,Ct.knobPosition,Ct.data.length,ht,s]),_(Lt.MOVE,Et),_(Lt.UP,(function(){Tt({type:"onMouseUp",payload:{isDragging:!1}})}));var zt=n.replace(/[\W_]/g,"_");return Object(l.jsxs)("div",{style:Object(B.a)(Object(B.a)({},$.circularSlider),Ct.mounted&&$.mounted),ref:St,children:[Object(l.jsx)(X,{width:a,label:zt,direction:s,strokeDasharray:Ct.dashFullArray,strokeDashoffset:Ct.dashFullOffset,svgFullPath:Mt,progressSize:it,progressColorFrom:nt,progressColorTo:ot,progressLineCap:vt,trackColor:ct,trackSize:ut,radiansOffset:Ct.radians}),tt&&Object(l.jsx)(U,{isDragging:Ct.isDragging,knobPosition:{x:Ct.knob.x,y:Ct.knob.y},knobSize:m,knobColor:v,trackSize:ut,hideKnob:W,onMouseDown:function(){Tt({type:"onMouseDown",payload:{isDragging:!0}})}}),mt||Object(l.jsx)(Z,{label:n,labelColor:x,labelBottom:w,labelFontSize:T,verticalOffset:I,valueFontSize:M,appendToValue:L,prependToValue:E,hideLabelValue:N,value:"".concat(Ct.label)})]})},et=n(9);function nt(){var t=Object(W.a)(["\n\tfont-weight: 900;\n\twidth: 10%;\n\tfont-size: 48px;\n\tline-height: 48px;\n\tcolor: #fff;\n\toutline: none;\n\tborder: none;\n\tbackground-color: transparent;\n\tmargin: 0px 10px;\n"]);return nt=function(){return t},t}function rt(){var t=Object(W.a)(["\n\tfont-weight: 500;\n\tfont-size: 18px;\n\tcolor: #fff;\n\tborder-radius: 66px;\n\toutline: none;\n\tborder: none;\n\tpadding: 10px 60px;\n\tbackground-color: rgba(150, 150, 150, 0.2);\n\tmargin: 0px 10px;\n"]);return rt=function(){return t},t}function ot(){var t=Object(W.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"]);return ot=function(){return t},t}function at(){var t=Object(W.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n"]);return at=function(){return t},t}var it=et.b.div(at()),st=et.b.div(ot()),ct=et.b.div(rt()),lt=et.b.button(nt()),ut=function(t){var e=t.beatsPerMeasure,n=t.setBeatsPerMeasure,r=t.playMetronome,o=t.isPlaying;return Object(l.jsxs)(it,{children:[Object(l.jsx)("h2",{style:{textAlign:"center"},children:"Beats"}),Object(l.jsxs)(st,{children:[Object(l.jsx)(lt,{style:{marginTop:-10},onClick:function(){e>1&&n(e-1)},children:"-"}),Object(l.jsx)(ct,{children:e}),Object(l.jsx)(lt,{onClick:function(){e<12&&n(e+1)},children:"+"})]}),Object(l.jsx)(lt,{style:{fontSize:24,marginBottom:"-50px",width:"auto",borderRadius:66,outline:"none",padding:"10px 60px",textAlign:"center"},onClick:function(){r()},children:!0===o?"Stop":"Start"})]})};function dt(){return(dt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function pt(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var ft=u.createElement("path",{fill:"#fff",d:"M81.482,45.875c-0.407,0-1.44,0.14-2.502,0.47c-0.271-3.613-3.299-6.47-6.98-6.47 c-1.657,0-3.182,0.579-4.382,1.545c-0.887-2.708-3.232-4.545-6.136-4.545c-1.923,0-3.634,0.791-4.854,2.083l-0.308-8.615 c3.414-2.452,5.644-6.453,5.644-10.968c0-7.444-6.056-13.5-13.5-13.5s-13.5,6.056-13.5,13.5c0,5.176,2.938,9.662,7.226,11.924 l0.452,21.133c-0.808,0.439-2.034,1.242-3.603,2.667c-5.429,4.934-7.206,16.868-1.075,26.105 c6.825,10.282,14.822,14.671,26.742,14.671c12.629,0,16.854-6.338,20.1-12.83c3.122-6.244,3.158-30.156,3.158-31.17 C87.965,48.678,84.936,45.875,81.482,45.875z M37.965,19.375c0-5.79,4.71-10.5,10.5-10.5s10.5,4.71,10.5,10.5 c0,2.732-1.064,5.207-2.783,7.075l-0.217-6.075c0-4.276-3.011-7.5-7.004-7.5s-7.004,3.224-7.004,7.532l0.156,7.291 C39.602,25.779,37.965,22.772,37.965,19.375z M82.123,81.703c-3.056,6.112-6.475,11.172-17.416,11.172 c-10.936,0-17.959-3.862-24.242-13.33c-3.661-5.516-5.25-16.916,0.593-22.227c0.631-0.573,1.188-1.022,1.66-1.371l0.224,10.459 c0.018,0.828,0.678,1.507,1.532,1.468c0.828-0.018,1.485-0.703,1.468-1.532l-0.984-45.967c0-2.649,1.646-4.5,4.004-4.5 s4.004,1.851,4.005,4.554l1,28c0.027,0.769,0.633,1.393,1.4,1.443c0.751,0.047,1.449-0.488,1.578-1.247l0.759-4.5 c0.014-0.083,0.021-0.166,0.021-0.25c0-2.28,1.616-4,3.759-4c2.417,0,3.518,2.073,3.518,4v3c0,0.829,0.672,1.5,1.5,1.5 s1.5-0.671,1.5-1.5c0-2.206,1.794-4,4-4s4,1.794,4,4v6.5c0,0.828,0.672,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3.82 c0.6-0.292,1.776-0.681,2.482-0.681c1.79,0,3.482,1.458,3.482,3C84.965,58.591,84.453,77.043,82.123,81.703z"});function ht(t,e){var n=t.title,r=t.titleId,o=pt(t,["title","titleId"]);return u.createElement("svg",dt({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"120px",height:"100px",viewBox:"0 0 120 100",enableBackground:"new 0 0 120 100",xmlSpace:"preserve",ref:e,"aria-labelledby":r},o),n?u.createElement("title",{id:r},n):null,ft)}var bt=u.forwardRef(ht);n.p;function vt(){var t=Object(W.a)(["\n\t","\n"]);return vt=function(){return t},t}function gt(){var t=Object(W.a)(["\n  -webkit-animation: "," 0.8s linear infinite;\n  animation: "," 0.8s linear infinite;\n"]);return gt=function(){return t},t}function mt(){var t=Object(W.a)(["\n    10% {\n        transform: scale(0.9) translateY(-10px)\n    }\n\t100%{\n\t\ttransform: scale(1)\n\t}\n"]);return mt=function(){return t},t}function jt(){var t=Object(W.a)(["\n\twidth: 100%;\n\theight: 90%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding-top: 20%;\n\tjustify-content: space-around;\n\talign-items: center;\n\tmargin-top: -120px;\n\n\t@media (max-width: 500px) {\n\t\tpadding-top: 25%;\n\t}\n"]);return jt=function(){return t},t}var yt=et.b.div(jt()),Ot=Object(et.c)(mt()),xt=Object(et.a)(gt(),Ot,Ot),kt=Object(et.b)(bt)(vt(),xt),wt=function(t){var e=t.beatsPerMeasure,n=t.handleSliderInputChange,o=t.primaryColor,a=t.setBeatsPerMeasure,i=t.tempo,s=t.play,c=(t.setNoteType,t.handleTapTempo),u=t.isPlaying,d=t.tapTempoActive;return Object(l.jsxs)(yt,{onMouseDown:function(){return c("press")},onMouseUp:function(){return c("release")},onTouchStart:function(){return c("press")},onTouchEnd:function(){return c("release")},children:[Object(l.jsx)(tt,{label:"Tempo",labelColor:o,labelFontSize:"0px",valueFontSize:"100px",verticalOffset:"2rem",progressColorFrom:o,progressColorTo:o,progressSize:35,knobColor:"#777777",knobSize:85,trackColor:"#96969633",trackSize:35,width:320,data:Object(r.a)(Array(261).keys()).slice(30),dataIndex:i-30,onChange:function(t){n(parseInt(t))}}),d?Object(l.jsx)(kt,{style:{height:"80px"}}):Object(l.jsx)(ut,{isPlaying:u,beatsPerMeasure:e,setBeatsPerMeasure:a,playMetronome:s})]})},Ct=n(50),Tt=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).tempoValuesArray=void 0,a.comlinkWorkerApi=void 0,a.comlinkWorkerInstance=void 0,a.state={beatsPerMeasure:4,tempo:60,isPlaying:!1,startTime:null,current16thNote:0,lookahead:25,scheduleAheadTime:.1,nextNoteTime:0,noteResolution:2,noteLength:.05,notesInQueue:[],audioContext:new D.a,timerWorker:new d,tapTempoActive:!1},a.setBeatsPerMeasure=a.setBeatsPerMeasure.bind(Object(i.a)(a)),a.cycleNoteType=a.cycleNoteType.bind(Object(i.a)(a)),a.nextNote=a.nextNote.bind(Object(i.a)(a)),a.scheduleNote=a.scheduleNote.bind(Object(i.a)(a)),a.scheduler=a.scheduler.bind(Object(i.a)(a)),a.play=a.play.bind(Object(i.a)(a)),a.handleSliderInputChange=a.handleSliderInputChange.bind(Object(i.a)(a)),a.handleStartTapTempo=a.handleStartTapTempo.bind(Object(i.a)(a)),a.handleTempoTap=a.handleTempoTap.bind(Object(i.a)(a)),a.tempoValuesArray=Object(r.a)(Array(261).keys()).slice(30),a.comlinkWorkerInstance=new p,a.comlinkWorkerApi=S(a.comlinkWorkerInstance),a}return Object(a.a)(n,[{key:"setBeatsPerMeasure",value:function(t){this.setState({beatsPerMeasure:t}),this.stop()}},{key:"cycleNoteType",value:function(){this.setState((function(t){return{noteResolution:(t.noteResolution+1)%3}}))}},{key:"nextNote",value:function(){var t=this,e=60/this.state.tempo;this.setState((function(n){return{nextNoteTime:n.nextNoteTime+.25*e,current16thNote:n.current16thNote+1===4*t.state.beatsPerMeasure?0:n.current16thNote+1}}))}},{key:"scheduleNote",value:function(t,e){if(this.state.notesInQueue.push({note:t,time:e}),!(1===this.state.noteResolution&&t%2)&&!(2===this.state.noteResolution&&t%4)){var n=this.state.audioContext.createOscillator();n.connect(this.state.audioContext.destination),n.frequency.value=0===t?880:t%4===0?440:220,n.start(e),n.stop(e+this.state.noteLength)}}},{key:"scheduler",value:function(){for(;this.state.nextNoteTime<this.state.audioContext.currentTime+this.state.scheduleAheadTime;)this.scheduleNote(this.state.current16thNote,this.state.nextNoteTime),this.nextNote()}},{key:"play",value:function(){var t,e;return this.setState((function(t){return{isPlaying:!t.isPlaying}})),this.state.isPlaying?(null===(t=this.state.timerWorker)||void 0===t||t.postMessage("stop"),"play"):(this.setState({current16thNote:0,nextNoteTime:this.state.audioContext.currentTime}),null===(e=this.state.timerWorker)||void 0===e||e.postMessage("start"),"stop")}},{key:"stop",value:function(){var t;if(this.setState({isPlaying:!1}),this.state.isPlaying)return null===(t=this.state.timerWorker)||void 0===t||t.postMessage("stop"),"play"}},{key:"componentDidMount",value:function(){var t=this;this.comlinkWorkerInstance.addEventListener("message",(function(e){e.data&&"number"===typeof e.data&&t.setState({tempo:e.data})}));var e=this.state.timerWorker;e.onmessage=function(e){"tick"===e.data?t.scheduler():console.log(e.data)},this.setState({timerWorker:e}),this.state.timerWorker.postMessage({interval:this.state.lookahead})}},{key:"shouldComponentUpdate",value:function(t,e){return e.beatsPerMeasure!==this.state.beatsPerMeasure||e.noteResolution!==this.state.noteResolution||e.tapTempoActive!==this.state.tapTempoActive||e.tempo!==this.state.tempo||t.primaryColor!==this.props.primaryColor||e.isPlaying!==this.state.isPlaying}},{key:"handleTempoTap",value:function(t){switch(console.log("yoo"),t){case"press":console.log("press"),this.comlinkWorkerApi.press();break;case"release":console.log("release"),this.comlinkWorkerApi.release()}}},{key:"handleStartTapTempo",value:function(t){switch(t){case"start":this.setState((function(t){return{tapTempoActive:!t.tapTempoActive}})),this.comlinkWorkerApi.start();break;case"stop":this.setState((function(t){return{tapTempoActive:!t.tapTempoActive}})),this.comlinkWorkerApi.stop()}}},{key:"handleSliderInputChange",value:function(t){this.setState({tempo:t})}},{key:"render",value:function(){var t=this.state,e=t.tempo,n=t.tapTempoActive;return Object(l.jsxs)(u.Fragment,{children:[Object(l.jsx)(Ct.a,{navigateLocation:"/",setColors:this.props.setColors,menuColor:this.props.currentColors.gradient_lighter,handleStartTapTempo:this.handleStartTapTempo,tapTempoActive:n,cycleNoteType:this.cycleNoteType}),Object(l.jsx)(wt,{beatsPerMeasure:this.state.beatsPerMeasure,handleSliderInputChange:this.handleSliderInputChange,handleTapTempo:this.handleTempoTap,play:this.play,primaryColor:this.props.primaryColor,setBeatsPerMeasure:this.setBeatsPerMeasure,setNoteType:this.cycleNoteType,tempo:e,isPlaying:this.state.isPlaying,tapTempoActive:n})]})}}]),n}(u.Component);e.default=Tt}}]);
//# sourceMappingURL=4.a057e33a.chunk.js.map